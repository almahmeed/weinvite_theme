!function(n){"use strict";var e={init:function(){this.setupEventListeners(),this.initComponents()},setupEventListeners:function(){n(".mobile-menu-toggle").on("click",this.toggleMobileMenu.bind(this)),n(".mobile-nav-menu .menu-item-has-children > a").on("click",this.toggleMobileSubmenu),n(".mobile-nav-menu a").on("click",function(i){n(this).parent().hasClass("menu-item-has-children")||e.closeMobileMenu()}),n("[data-modal-open]").on("click",this.openModal.bind(this)),n("[data-modal-close]").on("click",this.closeModal.bind(this)),n(".modal-overlay").on("click",this.closeModal.bind(this)),n(document).on("keydown",function(n){"Escape"===n.key&&(e.closeModal(),e.closeMobileMenu())}),n('a[href^="#"]').on("click",this.smoothScroll)},initComponents:function(){this.initCharCounters(),this.initFileUploads(),this.initFormValidation()},toggleMobileMenu:function(e){e.preventDefault(),n(".mobile-menu").toggleClass("is-active"),n("body").toggleClass("menu-open"),n(e.currentTarget).toggleClass("is-active")},closeMobileMenu:function(){n(".mobile-menu").removeClass("is-active"),n("body").removeClass("menu-open"),n(".mobile-menu-toggle").removeClass("is-active")},toggleMobileSubmenu:function(e){e.preventDefault();var i=n(this).parent(),t=i.find(".sub-menu").first();i.toggleClass("submenu-open"),t.toggleClass("submenu-open"),i.siblings(".menu-item-has-children").removeClass("submenu-open").find(".sub-menu").removeClass("submenu-open")},openModal:function(e){e&&e.preventDefault();var i=n(e.currentTarget).data("modal-open");n("#".concat(i)).addClass("is-active"),n("body").addClass("modal-open")},closeModal:function(e){e&&e.preventDefault(),n(".modal").removeClass("is-active"),n("body").removeClass("modal-open")},smoothScroll:function(e){var i=n(this).attr("href");if(0===i.indexOf("#")&&i.length>1){var t=n(i);t.length&&(e.preventDefault(),n("html, body").animate({scrollTop:t.offset().top-80},500))}},initCharCounters:function(){n("textarea[maxlength]").each(function(){var e=n(this),i=parseInt(e.attr("maxlength"),10),t=n('<div class="char-counter"></div>');t.html('<span class="current">0</span> / <span class="max">'.concat(i,"</span>")),e.after(t),e.on("input",function(){var e=n(this).val().length;t.find(".current").text(e),e>=i?t.addClass("text-danger"):t.removeClass("text-danger")})})},initFileUploads:function(){n('input[type="file"]').on("change",function(e){var i=e.target.files[0],t=n(this),o=t.siblings("label"),a=t.siblings(".file-preview");if(i&&(o.length&&o.find("span").text(i.name),i.type.startsWith("image/")&&a.length)){var s=new FileReader;s.onload=function(n){a.html('<img src="'.concat(n.target.result,'" alt="Preview">'))},s.readAsDataURL(i)}})},initFormValidation:function(){n("form[data-validate]").on("submit",function(i){var t=!0;n(this).find("[required]").each(function(){var e=n(this);e.val()?e.removeClass("is-invalid"):(e.addClass("is-invalid"),t=!1)}),t||(i.preventDefault(),e.showNotification("Please fill in all required fields.","error"))}),n("form [required]").on("input",function(){n(this).removeClass("is-invalid")})},showNotification:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";n(".notification").remove();var t='\n                <div class="notification notification-'.concat(i,'">\n                    <div class="notification-content">\n                        ').concat(e,'\n                    </div>\n                    <button class="notification-close" type="button">&times;</button>\n                </div>\n            ');n("body").append(t),setTimeout(function(){n(".notification").addClass("is-visible")},100),setTimeout(function(){n(".notification").removeClass("is-visible"),setTimeout(function(){n(".notification").remove()},300)},5e3),n(".notification-close").on("click",function(){n(this).parent().removeClass("is-visible"),setTimeout(function(){n(".notification").remove()},300)})},showLoading:function(n){n.addClass("btn-loading").prop("disabled",!0)},hideLoading:function(n){n.removeClass("btn-loading").prop("disabled",!1)}};n(document).ready(function(){e.init()}),window.WeInvite=e}(jQuery);